{"version":3,"file":"index.mjs","sources":["src/utils/toPromise.js","src/emitter.js","src/form.js","src/utils/language.js","src/utils/date.js","src/library.js","src/utils/valueOrCall.js","src/controls/control.js","src/controls/mui-checkbox.js","src/controls/mui-text.js","src/controls/mui-country.js","src/controls/mui-date-picker.js","src/controls/mui-input.js","src/controls/mui-list-picker.js","src/controls/mui-number.js","src/controls/mui-phone.js","src/controls/mui-state.js","src/controls/mui-switch.js","src/controls/mui-taxid.js","src/controls/webcam.js"],"sourcesContent":["let toPromise = (fn) => {\n  return (...args) => {\n    return new Promise((resolve, reject) => {\n      requestAnimationFrame(() => {\n        try {\n          resolve(fn.apply(null, args))\n        } catch (e) {\n          reject(e)\n        }\n      })\n    })\n  }\n}\n\nexport default toPromise\n","import Emitter from 'es6-event-emitter'\n\nexport default class MyEmitter extends Emitter {\n  trigger(event, ...args){\n    if(typeof event === 'undefined'){\n      throw new Error('You must provide an event to trigger.')\n    }\n\n    let listeners = this.events[event]\n    let onceListeners = []\n    let results = []\n\n    if(typeof listeners !== 'undefined') {\n      results = listeners.map((v, k) => {\n        if(v.once) onceListeners.unshift(k)\n\n        return v.cb.apply(this, args)\n      })\n\n      onceListeners.forEach((v, k) => {\n        listeners.splice(k, 1)\n      })\n    }\n\n    return results\n  }\n\n  // clear events and then bind new event\n  unique(...args){\n    this.off(args[0])\n    return this.on(...args)\n  }\n\n  off(event, cb){\n    if(typeof this.events[event] === 'undefined'){\n      return this\n    }\n\n    const listeners = this.events[event]\n\n    if (!cb) {\n      delete this.events[event]\n      this.eventLength--\n      return this\n    }\n\n    listeners.forEach((v, i) => {\n      if(v.cb === cb) {\n        listeners.splice(i, 1)\n      }\n    })\n\n    if(listeners.length === 0){\n      delete this.events[event]\n\n      this.eventLength--\n    }\n\n    return this\n  }\n}\n","import React from 'react'\nimport ref from 'referential'\nimport toPromise from './utils/toPromise'\nimport Emitter from './emitter'\nimport classnames from 'classnames'\n\nexport class InputData {\n  static defaultProps = {\n    data: ref({}),\n    autoComplete: 'off',\n    showControlErrors: false,\n  }\n\n  constructor({ type, name, value, defaultValue, data, scrollToError, middleware, options }) {\n    // Data context for storing control values outside of the state\n    this.type = type || undefined\n    // Name of field in data context\n    this.name = name || ''\n    // Data Context\n    this.data = data || ref({})\n    // Default starting value used to override null data values\n    this.defaultValue = defaultValue\n    this.value = this.data.get(this.name)\n    if (this.value == null) {\n      this.value = value\n    }\n    if (this.value == null) {\n      this.value = defaultValue\n    }\n    if (this.value != this.data.get(this.name)) {\n      this.data.set(this.name, this.value)\n    }\n    this.options = options\n    this.select = options != null ? true : undefined\n\n    // Should the page scroll to an error in the middleware?\n    this.scrollToError = false //scrollToError || false\n\n    // List of middleware\n    // in the form of (newValue, oldValue, name) => {}\n    // where\n    //       newValue is the new value of the control\n    //       oldValue is the old value of the control\n    //       name is the name of the control\n    this.middleware = middleware || []\n    this.middleware = this.middleware.map(m => {\n      if (m.isPromise) {\n        return m\n      }\n\n      return toPromise(m)\n    })\n\n    this.emitter = new Emitter()\n  }\n\n  val(v, force = false) {\n    if (force) {\n      return this.value = this.data.set(this.name, v).get(this.name)\n    }\n\n    return this.emitter.trigger('control:value', v)[0]\n  }\n}\n\nexport default class Form extends React.Component {\n  static defaultProps = {\n    showErrors: false,\n    singleSubmit: true,\n  }\n\n  constructor(props) {\n    super(props)\n\n    // Hash array of InputDatas keyed by names\n    this.inputs = {}\n\n    this.state = {\n      errorMessage: '',\n      validating: false,\n      loading: false,\n      submitted: false\n    }\n  }\n\n  componentWillUnmount() {\n    for (let k in this.inputs) {\n      this.inputs[k].emitter.off('control:submit')\n      this.inputs[k].emitter.off('control:value')\n    }\n  }\n\n  runMiddleware(rethrow) {\n    this.setState({\n      errorMessage: '',\n      validating: true,\n    })\n\n    let inputs = []\n\n    for (let k in this.inputs) {\n      inputs.push(this.inputs[k])\n    }\n\n    let ps = inputs.map(i => {\n      return i.emitter.trigger('control:submit')\n    })\n\n    return Promise.all([].concat.apply([], ps))\n      .then(() => {\n        this.setState({\n          validating: false,\n        })\n      }).catch((err) => {\n        this.setState({\n          validating: false,\n          errorMessage: this.props.showControlErrors ? err.message : ''\n        })\n\n        if (rethrow) {\n          throw err\n        }\n      })\n  }\n\n  getErrorMessage() {\n    return this.state.errorMessage || ''\n  }\n\n  submit = (e) => {\n    if (e) {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    if (this.state.submitted) {\n      return\n    }\n\n    this.setState({\n      loading: true,\n      submitted: false\n    })\n\n    let is_submitError = false\n    return this.runMiddleware(true)\n      .then(() => {\n        is_submitError = true\n        let ret = this._submit()\n        if (ret && ret.then) {\n          return ret.then(() => {\n            this.setState({\n              loading: false,\n              submitted: this.props.singleSubmit,\n            })\n          })\n        }\n\n        this.setState({\n          loading: false,\n          submitted: this.props.singleSubmit,\n        })\n      })\n      .catch((err) => {\n        this.setState({\n          errorMessage: (this.props.showErrors || is_submitError) ? err.message : '',\n          loading: false,\n          submitted: false\n        })\n      })\n  }\n\n  _submit() {\n    return new Promise((resolve) => { resolve(true) })\n  }\n\n  render() {\n    return pug`\n      form(\n        autoComplete=this.props.autoComplete\n        onSubmit=this.submit\n        className=classnames({\n          validating: this.state.validating,\n          loading: this.state.loading,\n          submitted: this.state.submitted,\n        })\n      )\n        if this.state.loading || this.state.validating\n          .progress\n            .indeterminate\n        = props.children\n        if this.getErrorMessage()\n          .error\n            = this.getErrorMessage()\n\n    `\n  }\n}\n","export let getLanguage = () => {\n  if (typeof window != 'undefined') {\n    return window.navigator.userLanguage || window.navigator.languages[0] || window.navigator.language\n  }\n}\n","import moment from 'moment-timezone'\nimport { getLanguage } from './language'\n\nexport let rfc3339  = 'YYYY-MM-DDTHH:mm:ssZ'\nexport let mmddyyyy = 'MM/DD/YYYY'\nexport let yyyymmdd = 'YYYY/MM/DD'\nexport let ddmmyyyy = 'DD/MM/YYYY'\n\nexport let defaultFormat = () => {\n  if (getLanguage() == 'en-US') {\n    return mmddyyyy\n  } else {\n    return ddmmyyyy\n  }\n}\n\nexport let renderDate = (date, format) => {\n  if (!format) {\n    format = defaultFormat()\n  }\n\n  return moment(date).format(format)\n}\n\nexport let renderUIDate = (date) => {\n  if (!date) {\n    return ''\n  }\n\n  return renderDate(date)\n}\n\nexport let renderJSONDate = (date)=> {\n  return renderDate(date, rfc3339)\n}\n","import akasha from 'akasha'\nimport { renderDate, rfc3339 } from './utils/date'\n\nlet lastChecked, countries\n\nexport let loadLibrary = (client) => {\n  // fetch library data\n  lastChecked   = akasha.get('library.lastChecked')\n  countries     = akasha.get('library.countries') || []\n\n  lastChecked = renderDate(new Date(), rfc3339)\n\n  return client.library.daisho({\n    hasCountries:       !!countries && countries.length != 0,\n    lastChecked:        renderDate(lastChecked || '2000-01-01', rfc3339),\n  }).then((res) => {\n    countries = res.countries || countries\n\n    akasha.set('library.lastChecked', lastChecked)\n    akasha.set('library.countries', countries)\n  })\n}\n\nexport let getLibrary = () => {\n  return {\n    lastChecked: lastChecked || akasha.get('library.lastChecked'),\n    countries:   countries   || akasha.get('library.countries') || [],\n  }\n}\n","let valueOrCall = (valueOrFunc) => {\n  if(typeof valueOrFunc == 'function') {\n    return valueOrFunc()\n  }\n\n  return valueOrFunc\n}\n\nexport default valueOrCall\n\n","import React from 'react'\n\nimport valueOrCall from '../utils/valueOrCall'\nimport classnames from 'classnames'\n\n// Base control class\nlet controlId = 0\n\nexport default function control(ControlComponent) {\n  return class Control extends React.Component {\n    // Props should be\n    constructor(props) {\n      super(props)\n\n      this.lastUIChangeId = this.changeId = 0\n\n      // Unique ID for referencing the control\n      this.controlId = controlId++\n\n      if (props.emitter && this.props.data) {\n        props.emitter.unique('control:submit', () => {\n          return this._change(this.state.value, true)\n        })\n\n        // emitter.off to force any duplicate unmounted inputs out of scope\n        props.emitter.unique('control:value', (v) => {\n          if (v != null) {\n            this.props.data.set(this.props.name, v)\n            this.setState({\n              value: v\n            })\n\n            if (v != this.props.defaultValue) {\n              this._change(v)\n            }\n          }\n          return this.props.data.get(this.props.name)\n        })\n      }\n\n      let value\n      if (this.props.data) {\n        value = this.props.data.get(this.props.name)\n      }\n\n      if (value == null) {\n        value = props.value\n      }\n\n      if (value == null) {\n        value == props.defaultValue\n      }\n\n      this.state = {\n        value: value,\n        valid: false,\n        errorMessage: '',\n        appIsMounted: false\n      }\n\n      if (props.value != props.defaultValue) {\n        this._change(props.value)\n      }\n\n      this.inputRef = React.createRef()\n    }\n\n    componentDidMount() {\n      requestAnimationFrame(() => {\n        this.setState({ appIsMounted: true })\n      });\n\n      if (this.props.data) {\n        this._onSetLock = false\n        this._onSet = (k, v) => {\n          if (k==this.props.name && v != this.state.value) {\n            if (!this._onSetLock) {\n              this._onSetLock = true\n              this.change(v).then(() => {\n                this._onSetLock = false\n              }).catch(() => {\n                this._onSetLock = false\n              })\n            }\n          }\n        }\n        this.props.data.on('set', this._onSet)\n      }\n    }\n\n    componentWillUnmount() {\n      // These are unbound on the form level\n      // this.props.emitter.off('control:submit')\n      // this.props.emitter.off('control:value')\n      //\n      if (this.props.data) {\n        this.props.data.off('set', this._onSet)\n      }\n    }\n\n    getId() {\n      return 'control-' + this.controlId\n    }\n\n    getName() {\n      return valueOrCall(this.props.name || '').replace(/\\\\./g, '-')\n    }\n\n    getValue(eventOrValue) {\n      if (eventOrValue == null) {\n        return ''\n      }\n\n      if (!eventOrValue.target) {\n        return eventOrValue\n      }\n\n      let val = eventOrValue.target.value\n\n      return val || ''\n    }\n\n    getErrorMessage() {\n      return this.state.errorMessage || ''\n    }\n\n    error(value, e) {\n      this.setState({\n        errorMessage: e,\n        value: value,\n        valid: false\n      }, () => {\n        if (this.props.scrollToError && this.inputRef.current) {\n          this.inputRef.current.scrollIntoView()\n          this.inputRef.current.focus()\n        }\n      })\n    }\n\n    runMiddleware(value) {\n      // need to replace with actual middleware stack\n      let [p, ...middleware] = this.props.middleware || []\n\n      if (!p) {\n        return new Promise((resolve) => {\n          resolve(value)\n        })\n      }\n\n      let oldValue = this.state.value\n      let name = this.props.name\n\n      p = p.call(this.props, value, oldValue, name).then((v) => {\n        return v\n      }).catch((err) => {\n        throw err\n      })\n\n      for(let k in middleware) {\n        let m = middleware[k]\n\n        p = p.then((v) => {\n          return new Promise((resolve, reject)=> {\n            m.call(this.props, v, oldValue, name).then((v) => {\n              resolve(v)\n            }).catch((err) => {\n              reject(err)\n            })\n          })\n        })\n      }\n\n      return p\n    }\n\n    // Note, its atleast 2 characters (max savings unbounded) shorter to abuse ES6 automatic this binding syntax with => than adding explicit binds\n    change = (event) => {\n      this.setState({\n        errorMessage: '',\n        valid: false,\n        changeId: this.changeId,\n      })\n\n      this.lastUIChangeId = this.changeId + 1\n\n      return this._change(this.getValue(event), true)\n    }\n\n    _change(value, rethrow) {\n      this.changeId++\n      // trim the value we run the middleware on\n      let valueTrimmed = value\n\n      if (typeof valueTrimmed == 'string') {\n        valueTrimmed = value.trim()\n      }\n\n      return this.runMiddleware(valueTrimmed)\n        .then((newValue) => {\n          if (newValue == valueTrimmed) {\n            this.changed(value)\n          } else {\n            this.changed(newValue)\n          }\n        }).catch((err) => {\n          this.error(value, err.message)\n          if (rethrow) {\n            throw err\n          }\n        })\n    }\n\n    changed(value) {\n      // we also store the trimmed value\n      let valueTrimmed = value\n\n      if (typeof valueTrimmed == 'string') {\n        valueTrimmed = value.trim()\n      }\n\n      if (this.props.data) {\n        this.props.data.set(this.props.name, valueTrimmed)\n      }\n\n      this.setState({\n        value: value,\n        valid: true,\n      })\n    }\n\n    render() {\n      let {\n        value,\n        valid,\n        errorMessage,\n      }  = this.state\n\n      let props = Object.assign({}, this.props, {\n        id: this.getId(),\n        name: this.getName(),\n        onChange: this.change,\n      })\n\n      delete props.value\n      delete props.className\n\n      let lastUIChangeId = this.lastUIChangeId\n      this.lastUIChangeId = this.changeId\n\n      // Do a quick refresh to remove the force set value\n      if (lastUIChangeId < this.changeId) {\n        requestAnimationFrame(() => {\n          this.forceUpdate()\n        })\n      }\n\n      return pug`\n        .control(\n          ref=this.inputRef\n          className=classnames({\n            valid: valid,\n            invalid: !!errorMessage,\n          }) + (this.props.className ? ' ' + this.props.className : '')\n        )\n          ControlComponent(\n            ...props\n            value=value\n            valid=valid\n            forceNewValue=lastUIChangeId < this.changeId\n            errorMessage=errorMessage\n          )\n        `\n    }\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\n\nimport { withStyles } from '@material-ui/core/styles'\n\n@control\nclass BaseMuiCheckbox extends React.Component{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    label: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    showErrors: true,\n    options: undefined,\n  }\n\n  change = (e, checked) => {\n    if (this.props.onChange) {\n      this.props.onChange(checked)\n    }\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let {\n      id,\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      options,\n      disabled,\n      onChange,\n      children,\n      classes,\n      label,\n      ...props\n    } = this.props\n\n    if (!disabled) {\n      disabled = this.disabled\n    }\n\n    value = value || defaultValue || false\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    return pug`\n      .checkbox\n        FormControl(className=classes.row)\n          Checkbox(\n            ...props\n            id=id\n            disabled=disabled\n            checked=value\n            onChange=this.change\n            className=classes.pointer\n            type='checkbox'\n          )\n          FormLabel(\n            htmlFor=id\n            className=classes.label\n          )\n            =label || children\n          if !!helper\n            FormHelperText(\n              disabled=disabled\n              error=!!errorMessage\n              className=classes.helper\n            )\n              =helper\n      `\n  }\n}\n\nconst styles = theme => ({\n  pointer: {\n    cursor: 'pointer',\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  label: {\n    textAlign: 'left',\n    cursor: 'pointer',\n  },\n  helper: {\n    flex: '0 1 100%',\n  },\n})\n\nexport default withStyles(styles)(class MuiCheckbox extends BaseMuiCheckbox {})\n","import React from 'react'\n\nimport control from './control'\n\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nexport class BaseMuiText extends React.Component{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    label: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    showErrors: true,\n    options: undefined,\n    changeNotBlur: false,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      shrink: false,\n    }\n  }\n\n  manualShrink = (e) => {\n    this.setState({\n      shrink: !!e.target.value,\n    })\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      options,\n      disabled,\n      onChange,\n      changeNotBlur,\n      forceNewValue,\n      ...props\n    } = this.props\n\n    if (!options) {\n      options = this.options\n    }\n\n    if (!disabled) {\n      disabled = this.disabled\n    }\n\n    if (value == null) {\n      value = defaultValue\n    }\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    let isSelect = props.select != null\n    let selectOptions = []\n    if (!options) {\n      options = []\n    }\n\n    if (isSelect) {\n      if (props.SelectProps && props.SelectProps.native) {\n        for (let k in options) {\n          ((key) => {\n            let opt = options[key]\n            selectOptions.push(pug`\n              option(key=key value=key)\n                =opt\n            `)\n          })(k)\n        }\n      } else {\n        for (let k in options) {\n          ((key) => {\n            let opt = options[key]\n            selectOptions.push(pug`\n              MenuItem(key=key value=key)\n                =opt\n            `)\n          })(k)\n        }\n      }\n    }\n\n    return pug`\n      TextField(\n        ...props\n        InputLabelProps={ shrink: this.state.shrink || isSelect || !!value}\n        disabled=disabled\n        defaultValue=isSelect ? undefined : value\n        value=forceNewValue ? value : isSelect ? value : undefined\n        helperText=helper\n        error=!!errorMessage\n        onBlur=isSelect ? undefined : onChange\n        onChange=changeNotBlur ? onChange : (isSelect ? onChange : this.manualShrink)\n      )\n        =selectOptions\n      `\n  }\n}\n\n@control\nexport default class MuiText extends BaseMuiText {}\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport { getLibrary } from '../library'\n\nlet countryOpts\n\nexport default @control class MuiCountry extends BaseMuiText{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    label: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    showErrors: true,\n    options: undefined,\n    select: true,\n  }\n\n  constructor(props) {\n    super(props)\n\n    let { countries } = getLibrary()\n\n    this.options = countryOpts || {}\n\n    if (countryOpts) {\n      return\n    }\n\n    countries = countries.sort((a, b) => {\n      if (a.name < b.name) { return -1 }\n      if (a.name > b.name) { return 1 }\n      return 0\n    })\n\n    for (let k in countries) {\n      let country = countries[k]\n\n      this.options[country.code.toUpperCase()] = country.name\n    }\n\n    countryOpts = this.options\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport { InlineDatePicker, MuiPickersContextConsumer } from 'material-ui-pickers'\nimport { defaultFormat, renderUIDate, renderJSONDate } from '../utils/date'\nexport { MuiPickersUtilsProvider } from 'material-ui-pickers'\n\nimport moment from 'moment-timezone'\n\n@control\nexport default class MuiDatePicker extends BaseMuiText{\n  change = (e) => {\n    if (this.props.onChange) {\n      let v = renderJSONDate(e)\n\n      this.props.onChange(v)\n    }\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      InputProps,\n      ...props\n    } = this.props\n\n    props.onChange = this.change\n\n    value = value || defaultValue || moment()\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    return <MuiPickersContextConsumer>\n      { (utils) => {\n        return <InlineDatePicker\n          { ...props }\n          value={ moment(value) }\n          keyboard\n          utils={ utils }\n          onChange={ this.change }\n          format={ defaultFormat() }\n          mask={ [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/] }\n        />\n      } }\n    </ MuiPickersContextConsumer>\n  }\n}\n","import React from 'react'\n\nimport control from './control'\n\nimport InputBase from '@material-ui/core/InputBase'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nexport class BaseMuiInput extends React.Component{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    options: undefined,\n    changeNotBlur: false,\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      value,\n      defaultValue,\n      valid,\n      middleware,\n      disabled,\n      onChange,\n      errorMessage,\n      scrollToError,\n      changeNotBlur,\n      forceNewValue,\n      ...props\n    } = this.props\n\n    if (!disabled) {\n      disabled = this.disabled\n    }\n\n    value = value || defaultValue || \"\"\n\n    return pug`\n      InputBase(\n        ...props\n        disabled=disabled\n        defaultValue=value\n        value=forceNewValue ? value : undefined\n        onBlur=changeNotBlur ? undefined : onChange\n        onChange=changeNotBlur ? onChange : undefined\n      )\n      `\n  }\n}\n\n@control\nexport default class MuiInput extends BaseMuiInput {}\n","import React from 'react'\n\nimport control from './control'\n\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport CheckCircleOutlined from '@material-ui/icons/CheckCircleOutlined'\n\nimport { withStyles } from '@material-ui/core/styles'\n\n@control\nclass MuiListPicker extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { value: props.value }\n  }\n  render() {\n    let { options, classes, showErrors, errorMessage, ...props} = this.props\n    let state = this.state\n\n    options = options || []\n\n    let items = []\n\n    for (let k in options) {\n      ((key) => {\n        let option = options[key]\n        let Icon = option.icon\n\n        items.push(pug`\n          ListItem(\n            button\n            classes={ selected: classes.selected }\n            selected=( props.value === key )\n            onClick=() => { props.onChange(key) }\n            key=key\n          )\n            if option.icon\n              ListItemIcon(className=classes.noMargin)\n                Icon(style={ fontSize: 36 })\n            ListItemText(\n              primary=(option.primary || option.label)\n              secondary=(option.secondary || option.subLabel)\n              className=classes.listItemText\n            )\n            if props.value === key\n              ListItemIcon\n                CheckCircleOutlined(style={ fontSize: 36 })\n        `)\n      })(k)\n    }\n\n    return pug`\n      .list-picker(className=classes.root)\n        List\n          = items\n          = props.children\n        if !!errorMessage && showErrors\n          .error\n            = errorMessage\n    `\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  selected: {\n    backgroundColor: theme.palette.secondary.main  + ' !important',\n  },\n  listItemText: {\n    flexGrow: 1,\n  },\n  noMargin: {\n    margin: 0,\n  },\n})\n\nexport default withStyles(styles)(MuiListPicker)\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport TextField from '@material-ui/core/TextField'\n\nimport NumberFormat from 'react-number-format'\n\nfunction NumberFormatCustom(props) {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            value: values.value,\n          },\n        });\n      }}\n      prefix='$'\n    />\n  );\n}\n\n@control\nexport default class MuiNumber extends BaseMuiText{\n  change = (e) => {\n    let v = e\n    if (e && e.target && e.target.value) {\n      v = parseFloat(e.target.value.replace(/[^0-9\\.]+/g, ''))\n    }\n\n    if (v.replace) {\n      v = v.replace(/[^0-9\\.]+/g, '')\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(v)\n    }\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      InputProps,\n      forceNewValue,\n      ...props\n    } = this.props\n\n    props.onChange = this.change\n\n    value = value || defaultValue || \"\"\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    if (!InputProps) {\n      InputProps = {}\n    }\n\n    InputProps.inputComponent = NumberFormatCustom\n\n    return pug`TextField(\n      ...props\n      defaultValue=value\n      value=forceNewValue ? value : undefined\n      helperText=helper\n      error=!!errorMessage\n      InputProps=InputProps\n    )`\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport TextField from '@material-ui/core/TextField'\nimport MaskedInput from 'react-text-mask'\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      {...other}\n      mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      showMask\n    />\n  );\n}\n\n@control\nexport default class MuiPhone extends BaseMuiText{\n  change = (e) => {\n    if (e && e.target && e.target.value) {\n      e = parseInt(e.target.value.replace(/[^0-9]+/g, ''), 10)\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(e)\n    }\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      InputProps,\n      forceNewValue,\n      ...props\n    } = this.props\n\n    props.onChange = this.change\n\n    value = value || defaultValue || \"\"\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    if (!InputProps) {\n      InputProps = { onChange: this.change }\n    }\n    InputProps.inputComponent = TextMaskCustom\n\n    return pug`TextField(\n      ...props\n      defaultValue=value\n      value=forceNewValue ? value : undefined\n      helperText=helper\n      error=!!errorMessage\n      InputProps=InputProps\n      InputLabelProps={ shrink: true }\n    )`\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport { getLibrary } from '../library'\n\nlet stateOpts\n\n@control\nexport default class MuiState extends BaseMuiText{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    label: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    showErrors: true,\n    options: undefined,\n    select: true,\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (this.props.country != nextProps.country) {\n      this.options = stateOpts[nextProps.country] || {}\n\n      if (!this.options) {\n        this.disabled = true\n      } else if(!this.options[this.props.value]) {\n        this.props.onChange(Object.keys(this.options)[0])\n      }\n    }\n    return true\n  }\n\n  constructor(props) {\n    super(props)\n\n    let { countries } = getLibrary()\n\n    if (stateOpts) {\n      return\n    }\n\n    stateOpts = {}\n\n    for (let k in countries) {\n      let country = countries[k]\n      let cCode = country.code.toUpperCase()\n\n      let c = stateOpts[cCode]\n      if (!c) {\n        c = stateOpts[cCode] = {}\n      }\n\n      let subdivisions = country.subdivisions.sort((a, b) => {\n        if (a.name < b.name) { return -1 }\n        if (a.name > b.name) { return 1 }\n        return 0\n      })\n\n      for (let k2 in subdivisions) {\n        let subdivision = country.subdivisions[k2]\n\n        c[subdivision.code.toUpperCase()] = subdivision.name\n      }\n    }\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\n\nimport Switch from '@material-ui/core/Switch'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\n\nimport { withStyles } from '@material-ui/core/styles'\n\n@control\nexport class BaseMuiSwitch extends React.Component{\n  static defaultProps = {\n    type: 'text',\n    autoComplete: 'new-password',\n    autoFocus: undefined,\n    disabled: undefined,\n    maxLength: undefined,\n    readOnly: undefined,\n    placeholder: '',\n    label: '',\n    instructions: '',\n    wrap: '',\n    spellCheck: '',\n    rows: undefined,\n    cols: undefined,\n    showErrors: true,\n    options: undefined,\n  }\n\n  change = (e, checked) => {\n    if (this.props.onChange) {\n      this.props.onChange(checked)\n    }\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let {\n      id,\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      options,\n      disabled,\n      onChange,\n      children,\n      classes,\n      label,\n      ...props\n    } = this.props\n\n    if (!disabled) {\n      disabled = this.disabled\n    }\n\n    value = value || defaultValue || false\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    return pug`\n      .checkbox\n        FormControl(className=classes.row)\n          Switch(\n            ...props\n            id=id\n            disabled=disabled\n            checked=value\n            onChange=this.change\n            className=classes.pointer\n            type='checkbox'\n          )\n          FormLabel(\n            htmlFor=id\n            className=classes.label\n          )\n            =label || children\n          if !!helper\n            FormHelperText(\n              disabled=disabled\n              error=!!errorMessage\n              className=classes.helper\n            )\n              =helper\n      `\n  }\n}\n\nconst styles = theme => ({\n  pointer: {\n    cursor: 'pointer',\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  label: {\n    textAlign: 'left',\n    cursor: 'pointer',\n  },\n  helper: {\n    flex: '0 1 100%',\n  },\n})\n\nexport default withStyles(styles)(class MuiSwitch extends BaseMuiSwitch {})\n","import React from 'react'\n\nimport control from './control'\nimport { BaseMuiText } from './mui-text'\n\nimport TextField from '@material-ui/core/TextField'\nimport MaskedInput from 'react-text-mask'\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      {...other}\n      mask={[/\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      showMask\n    />\n  );\n}\n\n@control\nexport default class MuiTaxId extends BaseMuiText{\n  change = (e) => {\n    if (e && e.target && e.target.value) {\n      e = parseInt(e.target.value.replace(/[^0-9]+/g, ''), 10)\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(e)\n    }\n  }\n\n  render() {\n    let {\n      data,\n      emitter,\n      showErrors,\n      scrollToError,\n      value,\n      defaultValue,\n      valid,\n      errorMessage,\n      middleware,\n      instructions,\n      InputProps,\n      forceNewValue,\n      ...props\n    } = this.props\n\n    props.onChange = this.change\n\n    value = value || defaultValue || \"\"\n\n    let helper = instructions\n\n    if(showErrors && errorMessage) {\n      helper = errorMessage\n    }\n\n    if (!InputProps) {\n      InputProps = { onChange: this.change }\n    }\n    InputProps.inputComponent = TextMaskCustom\n\n    return pug`TextField(\n      ...props\n      defaultValue=value\n      value=forceNewValue ? value : undefined\n      helperText=helper\n      error=!!errorMessage\n      InputProps=InputProps\n      InputLabelProps={ shrink: true }\n    )`\n  }\n}\n\n","import React from 'react'\n\nimport control from './control'\n\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport IconButton from '@material-ui/core/IconButton'\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\nimport Webcam from 'react-webcam'\n\nimport { withStyles } from '@material-ui/core/styles'\n\n@control\nclass WebcamCapture extends React.Component {\n  static defaultProps = {\n    screenshotFormat: 'image/jpeg',\n    videoConstraints: {\n      width: 1280,\n      height: 720,\n      facingMode: 'user',\n    },\n    screenshotQuality: .7,\n    audio: false,\n    height: 'auto',\n    width: 'auto',\n    instructions: 'Take a photo',\n    showErrors: true,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      opened: false,\n    }\n  }\n\n  setRef = webcam => {\n    this.webcam = webcam\n  }\n\n  capture = () => {\n    this.props.onChange(this.webcam.getScreenshot())\n\n    this.close()\n  }\n\n  open = () => {\n    this.setState({ opened: true })\n  }\n\n  close = () => {\n    this.setState({ opened: false })\n  }\n\n  render() {\n    let {\n      videoContraints,\n      classes,\n      onChange,\n      value,\n      errorMessage,\n      showErrors,\n      ...props\n    } = this.props\n\n    let videoConstraints = Object.assign({\n      width: 1280,\n      height: 720,\n      facingMode: 'user'\n    }, videoConstraints || {})\n\n    return pug`\n      .webcam-capture\n        if value\n          Button(\n            className=classes.button\n            onClick=this.open\n          )\n            img(src=value)\n        else\n          IconButton(\n            className=classes.button\n            onClick=this.open\n          )\n            PhotoCamera(style={ fontSize: 200 })\n        if !!errorMessage && showErrors\n          .error\n            = errorMessage\n        Dialog(\n          open=this.state.opened\n          onClose=this.close\n        )\n          DialogTitle\n            =props.instructions\n          DialogContent\n            Webcam(\n              ...props\n              ref=this.setRef\n              videoConstraints=videoConstraints\n            )\n          DialogActions\n            Button(onClick=this.capture)\n              | SAVE PHOTO\n    `\n  }\n}\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit,\n    cursor: 'pointer',\n  },\n\n})\n\nexport default withStyles(styles)(WebcamCapture)\n\n"],"names":["toPromise","fn","args","Promise","resolve","reject","requestAnimationFrame","apply","e","MyEmitter","event","Error","listeners","events","onceListeners","results","map","v","k","once","unshift","cb","forEach","splice","off","on","eventLength","i","length","Emitter","InputData","type","name","value","defaultValue","data","scrollToError","middleware","options","undefined","ref","get","set","select","m","isPromise","emitter","force","trigger","defaultProps","autoComplete","showControlErrors","Form","props","submit","preventDefault","stopPropagation","state","submitted","setState","loading","is_submitError","runMiddleware","then","ret","_submit","singleSubmit","catch","err","errorMessage","showErrors","message","inputs","validating","rethrow","push","ps","all","concat","React","Component","getLanguage","window","navigator","userLanguage","languages","language","rfc3339","mmddyyyy","yyyymmdd","ddmmyyyy","defaultFormat","renderDate","date","format","moment","renderUIDate","renderJSONDate","lastChecked","countries","loadLibrary","client","akasha","Date","library","daisho","hasCountries","res","getLibrary","valueOrCall","valueOrFunc","controlId","control","ControlComponent","change","valid","changeId","lastUIChangeId","_change","getValue","unique","appIsMounted","inputRef","createRef","_onSetLock","_onSet","replace","eventOrValue","target","val","current","scrollIntoView","focus","p","oldValue","call","valueTrimmed","trim","newValue","changed","error","Object","assign","id","getId","getName","onChange","className","forceUpdate","BaseMuiCheckbox","checked","instructions","disabled","children","classes","label","helper","autoFocus","maxLength","readOnly","placeholder","wrap","spellCheck","rows","cols","styles","theme","pointer","cursor","row","flexDirection","alignItems","flexWrap","textAlign","flex","withStyles","BaseMuiText","manualShrink","shrink","changeNotBlur","forceNewValue","isSelect","selectOptions","SelectProps","native","key","opt","MuiText","countryOpts","MuiCountry","sort","a","b","country","code","toUpperCase","MuiDatePicker","InputProps","utils","BaseMuiInput","MuiInput","MuiListPicker","items","option","Icon","icon","root","width","backgroundColor","palette","background","paper","selected","secondary","main","listItemText","flexGrow","noMargin","margin","NumberFormatCustom","other","values","MuiNumber","parseFloat","inputComponent","TextMaskCustom","MuiPhone","parseInt","stateOpts","MuiState","nextProps","keys","cCode","c","subdivisions","k2","subdivision","BaseMuiSwitch","MuiTaxId","WebcamCapture","setRef","webcam","capture","getScreenshot","close","open","opened","videoContraints","videoConstraints","height","facingMode","screenshotFormat","screenshotQuality","audio","button","spacing","unit"],"mappings":"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"}